<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Cache Everything by Cloudflare &#8211; HAPROXY.TECH</title>
<meta name="robots" content="max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<link rel="preconnect" href="https://api.haproxy.tech/">
<link rel="dns-prefetch" href="//api.haproxy.tech">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" type="application/rss+xml" title="HAPROXY.TECH &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="HAPROXY.TECH &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="HAPROXY.TECH &raquo; Cache Everything by Cloudflare Comments Feed" href="/cache-everything-by-cloudflare/feed/">
<style id="classic-theme-styles-inline-css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<link rel="stylesheet" id="stcr-style-css" href="/wp-content/plugins/subscribe-to-comments-reloaded/includes/css/stcr-style.css?ver=6.3.2" media="all">
<link rel="stylesheet" id="load-fa-css" href="/fonts/font-awesome.min.css?ver=6.3.2" media="all">
<link rel="stylesheet" id="ssp-search-css" href="/wp-content/plugins/simply-static-pro/assets/ssp-search.css?ver=1.4.5.7" media="all">
<link rel="stylesheet" id="generate-comments-css" href="/wp-content/themes/generatepress/assets/css/components/comments.min.css?ver=3.3.1" media="all">
<link rel="stylesheet" id="generate-style-css" href="/wp-content/themes/generatepress/assets/css/main.min.css?ver=3.3.1" media="all">
<style id="generate-style-inline-css">.featured-image img {width: 768px;}
body{background-color:var(--base);color:var(--contrast);}a{color:var(--accent);}a:hover, a:focus, a:active{color:var(--contrast);}.wp-block-group__inner-container{max-width:1200px;margin-left:auto;margin-right:auto;}.generate-back-to-top{font-size:20px;border-radius:3px;position:fixed;bottom:30px;right:30px;line-height:40px;width:40px;text-align:center;z-index:10;transition:opacity 300ms ease-in-out;opacity:0.1;transform:translateY(1000px);}.generate-back-to-top__show{opacity:1;transform:translateY(0);}.dropdown-click .main-navigation ul ul{display:none;visibility:hidden;}.dropdown-click .main-navigation ul ul ul.toggled-on{left:0;top:auto;position:relative;box-shadow:none;border-bottom:1px solid rgba(0,0,0,0.05);}.dropdown-click .main-navigation ul ul li:last-child > ul.toggled-on{border-bottom:0;}.dropdown-click .main-navigation ul.toggled-on, .dropdown-click .main-navigation ul li.sfHover > ul.toggled-on{display:block;left:auto;right:auto;opacity:1;visibility:visible;pointer-events:auto;height:auto;overflow:visible;float:none;}.dropdown-click .main-navigation.sub-menu-left .sub-menu.toggled-on, .dropdown-click .main-navigation.sub-menu-left ul li.sfHover > ul.toggled-on{right:0;}.dropdown-click nav ul ul ul{background-color:transparent;}.dropdown-click .widget-area .main-navigation ul ul{top:auto;position:absolute;float:none;width:100%;left:-99999px;}.dropdown-click .widget-area .main-navigation ul ul.toggled-on{position:relative;left:0;right:0;}.dropdown-click .widget-area.sidebar .main-navigation ul li.sfHover ul, .dropdown-click .widget-area.sidebar .main-navigation ul li:hover ul{right:0;left:0;}.dropdown-click .sfHover > a > .dropdown-menu-toggle > .gp-icon svg{transform:rotate(180deg);}:root{--contrast:#222222;--contrast-2:#575760;--contrast-3:#b2b2be;--base:#f0f0f0;--base-2:#f7f8f9;--base-3:#ffffff;--accent:#1e73be;}:root .has-contrast-color{color:var(--contrast);}:root .has-contrast-background-color{background-color:var(--contrast);}:root .has-contrast-2-color{color:var(--contrast-2);}:root .has-contrast-2-background-color{background-color:var(--contrast-2);}:root .has-contrast-3-color{color:var(--contrast-3);}:root .has-contrast-3-background-color{background-color:var(--contrast-3);}:root .has-base-color{color:var(--base);}:root .has-base-background-color{background-color:var(--base);}:root .has-base-2-color{color:var(--base-2);}:root .has-base-2-background-color{background-color:var(--base-2);}:root .has-base-3-color{color:var(--base-3);}:root .has-base-3-background-color{background-color:var(--base-3);}:root .has-accent-color{color:var(--accent);}:root .has-accent-background-color{background-color:var(--accent);}.gp-modal:not(.gp-modal--open):not(.gp-modal--transition){display:none;}.gp-modal--transition:not(.gp-modal--open){pointer-events:none;}.gp-modal-overlay:not(.gp-modal-overlay--open):not(.gp-modal--transition){display:none;}.gp-modal__overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.2);display:flex;justify-content:center;align-items:center;z-index:10000;backdrop-filter:blur(3px);transition:opacity 500ms ease;opacity:0;}.gp-modal--open:not(.gp-modal--transition) .gp-modal__overlay{opacity:1;}.gp-modal__container{max-width:100%;max-height:100vh;transform:scale(0.9);transition:transform 500ms ease;padding:0 10px;}.gp-modal--open:not(.gp-modal--transition) .gp-modal__container{transform:scale(1);}.search-modal-fields{display:flex;}.gp-search-modal .gp-modal__overlay{align-items:flex-start;padding-top:25vh;background:var(--gp-search-modal-overlay-bg-color);}.search-modal-form{width:500px;max-width:100%;background-color:var(--gp-search-modal-bg-color);color:var(--gp-search-modal-text-color);}.search-modal-form .search-field, .search-modal-form .search-field:focus{width:100%;height:60px;background-color:transparent;border:0;appearance:none;color:currentColor;}.search-modal-fields button, .search-modal-fields button:active, .search-modal-fields button:focus, .search-modal-fields button:hover{background-color:transparent;border:0;color:currentColor;width:60px;}.top-bar{background-color:#636363;color:#ffffff;}.top-bar a{color:#ffffff;}.top-bar a:hover{color:#303030;}.site-header{background-color:rgba(52,62,71,255);}.site-header a{color:var(--base-3);}.site-header a:hover{color:var(--base-2);}.main-title a,.main-title a:hover{color:#ffffff;}.site-description{color:#ffffff;}.mobile-menu-control-wrapper .menu-toggle,.mobile-menu-control-wrapper .menu-toggle:hover,.mobile-menu-control-wrapper .menu-toggle:focus,.has-inline-mobile-toggle #site-navigation.toggled{background-color:rgba(0, 0, 0, 0.02);}.main-navigation,.main-navigation ul ul{background-color:rgba(52,62,71,255);}.main-navigation .main-nav ul li a, .main-navigation .menu-toggle, .main-navigation .menu-bar-items{color:#ffffff;}.main-navigation .main-nav ul li:not([class*="current-menu-"]):hover > a, .main-navigation .main-nav ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul li.sfHover:not([class*="current-menu-"]) > a, .main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{color:#ffffff;background-color:rgba(52,62,71,255);}button.menu-toggle:hover,button.menu-toggle:focus{color:#ffffff;}.main-navigation .main-nav ul li[class*="current-menu-"] > a{color:#ffffff;background-color:rgba(52,62,71,255);}.navigation-search input[type="search"],.navigation-search input[type="search"]:active, .navigation-search input[type="search"]:focus, .main-navigation .main-nav ul li.search-item.active > a, .main-navigation .menu-bar-items .search-item.active > a{color:#ffffff;background-color:rgba(52,62,71,255);}.main-navigation ul ul{background-color:rgba(52,62,71,255);}.main-navigation .main-nav ul ul li a{color:#ffffff;}.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):hover > a,.main-navigation .main-nav ul ul li:not([class*="current-menu-"]):focus > a, .main-navigation .main-nav ul ul li.sfHover:not([class*="current-menu-"]) > a{color:#ffffff;background-color:rgba(52,62,71,255);}.main-navigation .main-nav ul ul li[class*="current-menu-"] > a{color:#ffffff;background-color:rgba(52,62,71,255);}.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .one-container .container, .separate-containers .paging-navigation, .inside-page-header{background-color:var(--base-3);}.inside-article a,.paging-navigation a,.comments-area a,.page-header a{color:var(--contrast);}.inside-article a:hover,.paging-navigation a:hover,.comments-area a:hover,.page-header a:hover{color:var(--contrast-2);}.entry-title a{color:var(--contrast);}.entry-title a:hover{color:var(--contrast-2);}.entry-meta{color:var(--contrast-2);}.sidebar .widget{background-color:var(--base);}.sidebar .widget a{color:var(--contrast);}.sidebar .widget a:hover{color:var(--contrast-2);}.footer-widgets{background-color:var(--base-3);}.site-info{color:var(--contrast);background-color:var(--base);}.site-info a{color:var(--contrast);}.site-info a:hover{color:var(--contrast-2);}.footer-bar .widget_nav_menu .current-menu-item a{color:var(--contrast-2);}input[type="text"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],input[type="tel"],input[type="number"],textarea,select{color:var(--contrast);background-color:var(--base-2);border-color:var(--base);}input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="number"]:focus,textarea:focus,select:focus{color:var(--contrast);background-color:var(--base-2);border-color:var(--contrast-3);}button,html input[type="button"],input[type="reset"],input[type="submit"],a.button,a.wp-block-button__link:not(.has-background){color:#ffffff;background-color:#55555e;}button:hover,html input[type="button"]:hover,input[type="reset"]:hover,input[type="submit"]:hover,a.button:hover,button:focus,html input[type="button"]:focus,input[type="reset"]:focus,input[type="submit"]:focus,a.button:focus,a.wp-block-button__link:not(.has-background):active,a.wp-block-button__link:not(.has-background):focus,a.wp-block-button__link:not(.has-background):hover{color:#ffffff;background-color:#3f4047;}a.generate-back-to-top{background-color:#f82617;color:#ffffff;}a.generate-back-to-top:hover,a.generate-back-to-top:focus{background-color:#e10101;color:#ffffff;}:root{--gp-search-modal-bg-color:var(--base-3);--gp-search-modal-text-color:var(--contrast);--gp-search-modal-overlay-bg-color:rgba(0,0,0,0.67);}@media (max-width: 768px){.main-navigation .menu-bar-item:hover > a, .main-navigation .menu-bar-item.sfHover > a{background:none;color:#ffffff;}}.inside-header{padding:5px 0px 5px 0px;}.nav-below-header .main-navigation .inside-navigation.grid-container, .nav-above-header .main-navigation .inside-navigation.grid-container{padding:0px 20px 0px 20px;}.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .separate-containers .paging-navigation, .one-container .site-content, .inside-page-header{padding:30px;}.site-main .wp-block-group__inner-container{padding:30px;}.separate-containers .paging-navigation{padding-top:20px;padding-bottom:20px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-30px;width:calc(100% + 60px);max-width:calc(100% + 60px);}.one-container.right-sidebar .site-main,.one-container.both-right .site-main{margin-right:30px;}.one-container.left-sidebar .site-main,.one-container.both-left .site-main{margin-left:30px;}.one-container.both-sidebars .site-main{margin:0px 30px 0px 30px;}.one-container.archive .post:not(:last-child):not(.is-loop-template-item), .one-container.blog .post:not(:last-child):not(.is-loop-template-item){padding-bottom:30px;}.rtl .menu-item-has-children .dropdown-menu-toggle{padding-left:20px;}.rtl .main-navigation .main-nav ul li.menu-item-has-children > a{padding-right:20px;}.widget-area .widget{padding:5px;}.footer-widgets-container{padding:10px;}.inside-site-info{padding:10px;}@media (max-width:768px){.separate-containers .inside-article, .separate-containers .comments-area, .separate-containers .page-header, .separate-containers .paging-navigation, .one-container .site-content, .inside-page-header{padding:30px;}.site-main .wp-block-group__inner-container{padding:30px;}.inside-top-bar{padding-right:30px;padding-left:30px;}.inside-header{padding-right:30px;padding-left:30px;}.widget-area .widget{padding-top:30px;padding-right:30px;padding-bottom:30px;padding-left:30px;}.footer-widgets-container{padding-top:30px;padding-right:30px;padding-bottom:30px;padding-left:30px;}.inside-site-info{padding-right:30px;padding-left:30px;}.entry-content .alignwide, body:not(.no-sidebar) .entry-content .alignfull{margin-left:-30px;width:calc(100% + 60px);max-width:calc(100% + 60px);}.one-container .site-main .paging-navigation{margin-bottom:20px;}}.is-right-sidebar{width:30%;}.is-left-sidebar{width:30%;}.site-content .content-area{width:70%;}@media (max-width: 768px){.main-navigation .menu-toggle,.sidebar-nav-mobile:not(#sticky-placeholder){display:block;}.main-navigation ul,.gen-sidebar-nav,.main-navigation:not(.slideout-navigation):not(.toggled) .main-nav > ul,.has-inline-mobile-toggle #site-navigation .inside-navigation > *:not(.navigation-search):not(.main-nav){display:none;}.nav-align-right .inside-navigation,.nav-align-center .inside-navigation{justify-content:space-between;}.has-inline-mobile-toggle .mobile-menu-control-wrapper{display:flex;flex-wrap:wrap;}.has-inline-mobile-toggle .inside-header{flex-direction:row;text-align:left;flex-wrap:wrap;}.has-inline-mobile-toggle .header-widget,.has-inline-mobile-toggle #site-navigation{flex-basis:100%;}.nav-float-left .has-inline-mobile-toggle #site-navigation{order:10;}}
.main-navigation.toggled .main-nav > ul{background-color: rgba(52,62,71,255)}.sticky-enabled .gen-sidebar-nav.is_stuck .main-navigation {margin-bottom: 0px;}.sticky-enabled .gen-sidebar-nav.is_stuck {z-index: 500;}.sticky-enabled .main-navigation.is_stuck {box-shadow: 0 2px 2px -2px rgba(0, 0, 0, .2);}.navigation-stick:not(.gen-sidebar-nav) {left: 0;right: 0;width: 100% !important;}.both-sticky-menu .main-navigation:not(#mobile-header).toggled .main-nav > ul,.mobile-sticky-menu .main-navigation:not(#mobile-header).toggled .main-nav > ul,.mobile-header-sticky #mobile-header.toggled .main-nav > ul {position: absolute;left: 0;right: 0;z-index: 999;}.nav-float-right .navigation-stick {width: 100% !important;left: 0;}.nav-float-right .navigation-stick .navigation-branding {margin-right: auto;}.main-navigation.has-sticky-branding:not(.grid-container) .inside-navigation:not(.grid-container) .navigation-branding{margin-left: 10px;}.main-navigation.navigation-stick.has-sticky-branding .inside-navigation.grid-container{padding-left:0px;padding-right:0px;}@media (max-width:768px){.main-navigation.navigation-stick.has-sticky-branding .inside-navigation.grid-container{padding-left:0;padding-right:0;}}</style>
<link rel="stylesheet" id="generate-child-css" href="/wp-content/themes/generatepress_child/style.css?ver=1697896165" media="all">
<link rel="stylesheet" id="wp-featherlight-css" href="/wp-content/plugins/wp-featherlight/css/wp-featherlight.min.css?ver=1.3.4" media="all">
<link rel="stylesheet" id="generate-blog-images-css" href="/wp-content/plugins/gp-premium/blog/functions/css/featured-images.min.css?ver=2.3.2" media="all">
<link rel="stylesheet" id="generate-navigation-branding-css" href="/wp-content/plugins/gp-premium/menu-plus/functions/css/navigation-branding-flex.min.css?ver=2.3.2" media="all">
<style id="generate-navigation-branding-inline-css">@media (max-width: 768px){.site-header, #site-navigation, #sticky-navigation{display:none !important;opacity:0.0;}#mobile-header{display:block !important;width:100% !important;}#mobile-header .main-nav > ul{display:none;}#mobile-header.toggled .main-nav > ul, #mobile-header .menu-toggle, #mobile-header .mobile-bar-items{display:block;}#mobile-header .main-nav{-ms-flex:0 0 100%;flex:0 0 100%;-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4;}.navigation-branding .main-title a, .navigation-branding .main-title a:hover, .navigation-branding .main-title a:visited{color:#ffffff;}}.main-navigation.has-branding .inside-navigation.grid-container, .main-navigation.has-branding.grid-container .inside-navigation:not(.grid-container){padding:0px 30px 0px 30px;}.main-navigation.has-branding:not(.grid-container) .inside-navigation:not(.grid-container) .navigation-branding{margin-left:10px;}.navigation-branding img, .site-logo.mobile-header-logo img{height:60px;width:auto;}.navigation-branding .main-title{line-height:60px;}@media (max-width: 768px){.main-navigation.has-branding.nav-align-center .menu-bar-items, .main-navigation.has-sticky-branding.navigation-stick.nav-align-center .menu-bar-items{margin-left:auto;}.navigation-branding{margin-right:auto;margin-left:10px;}.navigation-branding .main-title, .mobile-header-navigation .site-logo{margin-left:10px;}.main-navigation.has-branding .inside-navigation.grid-container{padding:0px;}}</style>
<script src="/wp-includes/js/jquery/jquery.min.js?ver=3.7.0" id="jquery-core-js"></script>
<link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon">
<meta http-equiv="Accept-CH" content="DPR, Width">			                <meta name="ssp-config-path" content="/wp-content/uploads/simply-static/configs/">
			
			                <meta name="ssp-comment-redirect-url" content="/cam-on-vi-comment/">
                <meta name="ssp-comment-endpoint" content="aHR0cHM6Ly9oYXByb3h5LnRlY2gvd3AtY29tbWVudHMtcG9zdC5waHA=">
						<link rel="canonical" href="/cache-everything-by-cloudflare/">
<meta name="description" content="Cache Everything từ Cloudflare (Edge Cache HTML) là 1 hình thức cache đơn giản, siêu hiệu quả, giúp tăng tốc và giảm tải cực nhiều cho 1 trang WordPress thông t">
<meta property="og:title" content="Cache Everything by Cloudflare &#8211; HAPROXY.TECH">
<meta property="og:type" content="article">
<meta property="og:image" content="https://api.haproxy.tech/2023/06/oig-1.jpg">
<meta property="og:image:width" content="1024">
<meta property="og:image:height" content="1024">
<meta property="og:image:alt" content="OIG (1)">
<meta property="og:description" content="Cache Everything từ Cloudflare (Edge Cache HTML) là 1 hình thức cache đơn giản, siêu hiệu quả, giúp tăng tốc và giảm tải cực nhiều cho 1 trang WordPress thông t">
<meta property="og:url" content="/cache-everything-by-cloudflare/">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="HAPROXY.TECH">
<meta property="article:published_time" content="2023-06-24T03:11:16+00:00">
<meta property="article:modified_time" content="2023-06-24T03:11:16+00:00">
<meta property="og:updated_time" content="2023-06-24T03:11:16+00:00">
<meta property="article:section" content="Toolbox">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://api.haproxy.tech/2023/06/oig-1.jpg">
		<style id="wp-custom-css">/*
Theme Name: bibica.net
Theme URI: https://bibica.net
Description: Child Theme được tạo từ GeneratePress
Author: bibica
Author URI: https://bibica.net
Template: generatepress
Version: 1.1
*/


/* Sửa nút back to top*/
.generate-back-to-top,
.generate-back-to-top:visited {
border-radius: 20px; /* làm tròn */
line-height: 40px; /* chiều cao */
width: 40px; /* độ to */
	
}

/* Thêm read more nằm bên phải */
.read-more,
.read-more:visited {
display: block;
float: right;
margin-top: 1em;
padding: 1px 1px;
border-bottom: 2px solid rgba(44, 212, 217, 0.6);
color: #5333ed!important;
position: relative !important;
cursor: auto !important;
cursor: pointer !important;
}


/* Bo tròn và đổ bóng khung bài viết */
.inside-article {
-moz-border-radius: 3px;
-webkit-border-radius: 3px;
border-radius: 3px;

}

/* Thêm gạch ngang màu đỏ nhạt ở các link trong bài viết */
.entry-content a {
border-bottom: 2px solid rgba(236, 69, 72, 0.7);

}

/* Bo tròn Widget*/
.widget {
-moz-border-radius: 3px;
-webkit-border-radius: 3px;
border-radius: 3px;

}

/*Làm trong suốt nền phần chia trang */
.paging-navigation
{
background-color: transparent !important;
}

/*Cho phần link chia trang lên cao gần bài viết */
.nav-links {
margin-top: -1em;
}
/*Cho phần site-footer lên cao gần bài viết 
.site-footer {
margin-top: -1em;
} */

/* Bo tròn và đổ bóng khung phần comment */
.comments-area
{
-moz-border-radius: 3px;
-webkit-border-radius: 3px;
border-radius: 3px;

}

/* Ẩn border comment */
.comment-content {
border:0px !important;
margin-top: 1em!important;
padding: 5px 0px!important;
}
.children {
border:0px !important;
margin-top: -2em!important;
padding: 5px 10px!important;
}

/* Làm trong suốt nền phần box (review, toolbox ….) */
.page-header{
background-color: transparent !important;

}

.commend-post{
color: #1e72bd!important;

}
.view-post {
color: #e56a39!important;

}

.category-sticky{
border:0px solid #FFFF;
}
/* Tăng khoảng cách EnlighterJS Syntax Highlighter */
.enlighter-code{
        color: #212529;
        background-color: #f8f9fa;
        background-color: #282a36;
        padding: 10px 5px 10px 5px;
}

/* Tạo đường viền quanh các ảnh */
.wp-show-posts-image img {
	display: block;
	border-radius: 3px;
	border: 0.1px solid #b2b2be;
}

.post-image img {
	border-radius: 3px;
	border: 0.1px solid #b2b2be;
}

/* content images size */
.entry-content img {
    max-width: 768 px !important;
    height: auto;
		display: block;
	border-radius: 5px;
	
}


.featured-image img {
	border-radius: 3px;
	border: 0.1px solid #b2b2be;
}
/* Giảm khoảng cách tiêu đề ở Featured posts */
.wp-block-heading{
	margin-top: -0.6em!important;
}

/*Widget bên phải sticky*/
.inside-right-sidebar {
    position: sticky;
    top: 0;
    z-index: 99;
}</style>
		</head>

<body class="post-template-default single single-post postid-48 single-format-standard wp-embed-responsive post-image-below-header post-image-aligned-center sticky-menu-fade mobile-header mobile-header-sticky wp-featherlight-captions right-sidebar nav-float-right separate-containers header-aligned-left dropdown-click dropdown-click-menu-item featured-image-active" itemtype="https://schema.org/Blog" itemscope>
	<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>		<header class="site-header has-inline-mobile-toggle" id="masthead" aria-label="Site" itemtype="https://schema.org/WPHeader" itemscope>
			<div class="inside-header grid-container">
				<div class="site-branding">
						<p class="main-title" itemprop="headline">
					<a href="/" rel="home">
						HAPROXY.TECH
					</a>
				</p>
						
					</div>	<nav class="main-navigation mobile-menu-control-wrapper" id="mobile-menu-control-wrapper" aria-label="Mobile Toggle">
		<div class="menu-bar-items">	<span class="menu-bar-item">
		<a href="#" role="button" aria-label="Open search" data-gpmodal-trigger="gp-search"><span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span></a>
	</span>
	</div>		<button data-nav="site-navigation" class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
			<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="screen-reader-text">Menu</span>		</button>
	</nav>
			<nav class="main-navigation has-menu-bar-items sub-menu-right" id="site-navigation" aria-label="Primary" itemtype="https://schema.org/SiteNavigationElement" itemscope>
			<div class="inside-navigation grid-container">
								<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
					<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="screen-reader-text">Menu</span>				</button>
						<div id="primary-menu" class="main-nav">
			<ul class="menu sf-menu">
				<li class="page_item page-item-2"><a href="/contact/">Contact</a></li>
<li class="page_item page-item-579"><a href="/cam-on-vi-comment/">Cảm ơn vì comment</a></li>
			</ul>
		</div>
		<div class="menu-bar-items">	<span class="menu-bar-item">
		<a href="#" role="button" aria-label="Open search" data-gpmodal-trigger="gp-search"><span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span></a>
	</span>
	</div>			</div>
		</nav>
					</div>
		</header>
				<nav id="mobile-header" data-auto-hide-sticky itemtype="https://schema.org/SiteNavigationElement" itemscope class="main-navigation mobile-header-navigation has-branding has-sticky-branding has-menu-bar-items">
			<div class="inside-navigation grid-container grid-parent">
				<div class="navigation-branding"><p class="main-title" itemprop="headline">
							<a href="/" rel="home">
								HAPROXY.TECH
							</a>
						</p></div>					<button class="menu-toggle" aria-controls="mobile-menu" aria-expanded="false">
						<span class="gp-icon icon-menu-bars"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span><span class="screen-reader-text">Menu</span>					</button>
							<div id="primary-menu" class="main-nav">
			<ul class="menu sf-menu">
				<li class="page_item page-item-2"><a href="/contact/">Contact</a></li>
<li class="page_item page-item-579"><a href="/cam-on-vi-comment/">Cảm ơn vì comment</a></li>
			</ul>
		</div>
		<div class="menu-bar-items">	<span class="menu-bar-item">
		<a href="#" role="button" aria-label="Open search" data-gpmodal-trigger="gp-search"><span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M71.029 71.029c9.373-9.372 24.569-9.372 33.942 0L256 222.059l151.029-151.03c9.373-9.372 24.569-9.372 33.942 0 9.372 9.373 9.372 24.569 0 33.942L289.941 256l151.03 151.029c9.372 9.373 9.372 24.569 0 33.942-9.373 9.372-24.569 9.372-33.942 0L256 289.941l-151.029 151.03c-9.373 9.372-24.569 9.372-33.942 0-9.372-9.373-9.372-24.569 0-33.942L222.059 256 71.029 104.971c-9.372-9.373-9.372-24.569 0-33.942z"></path></svg></span></a>
	</span>
	</div>			</div>
<!-- .inside-navigation -->
		</nav><!-- #site-navigation -->
		
	<div class="site grid-container container hfeed" id="page">
				<div class="site-content" id="content">
			
	<div class="content-area" id="primary">
		<main class="site-main" id="main">
			
<article id="post-48" class="post-48 post type-post status-publish format-standard has-post-thumbnail hentry category-toolbox" itemtype="https://schema.org/CreativeWork" itemscope>
	<div class="inside-article">
					<header class="entry-header" aria-label="Content">
				<h1 class="entry-title" itemprop="headline">Cache Everything by Cloudflare</h1>		<div class="entry-meta">
			<span class="posted-on"><i class="fa">&#xe800;&nbsp;</i>24/06/2023  </span>		</div>
					</header>
			<div class="featured-image  page-header-image-single ">
				<img width="768" height="768" src="https://api.haproxy.tech/2023/06/oig-1.jpg" class="attachment-large size-large" alt="Oig (1)" decoding="async" itemprop="image" fetchpriority="high" loading="eager">
			</div>
		<div class="entry-content" itemprop="text">
			<p>Cache Everything từ Cloudflare (Edge Cache HTML) là 1 hình thức cache đơn giản, siêu hiệu quả, giúp tăng tốc và giảm tải cực nhiều cho 1 trang WordPress thông thường</p>
<ul>
<li>
<strong>Layer 0</strong> (L0): plugin caching thông thường, có thể ví dụ như <a href="https://bibica.net/flyingpress-plugin-cache-hang-dau/" rel="bookmark">FlyingPress</a>, <a href="https://bibica.net/wp-rocket-va-rocket-nginx/" target="_blank" rel="noopener">WP-Rocket</a>, <a href="https://bibica.net/swift-performance/" target="_blank" rel="noopener">Swift Performance</a> ….trang web sẽ được chuyển về dạng tĩnh (html) lưu trên ổ cứng, L0 có thể kết hợp với L1 sử dụng Nginx để chạy trực tiếp (đây là cách trước đây mình hay dùng, tốc độ và chịu tải rất tốt, quản lý cũng rất đơn giản)</li>
<li>
<strong>Layer 1</strong> (L1): Web server (Apache/NGINX/OLS) thường các dịch vụ trả phí, giá đa phần trên $20/month mới có các gói này, có thể kể tới như LiteSpeed, NINGX SRCache, NGINX x-proxy, Runcloud, Kinsta, Shopify, Varnish … dạng này thường mình chẳng nhìn bao giờ vì mắc</li>
<li>
<strong>Layer 2</strong> (L2): CDN, có thể kể tới Amazon Cloudfront, Cloudflare (+<a href="https://bibica.net/cloudflare-apo-cache-enabler-phien-ban-cdn-argo/" target="_blank" rel="noopener">APO</a>), Fastly …. L2 có thể gọi là bố đời, mẹ thiên hạ về tốc độ và chịu tải, hình dung thì các trang sau khi cache về dạng tĩnh (html) sẽ được chuyển tới nhiều cụm CDN khác nhau, khách ở khu vực nào thì sẽ lấy dữ liệu từ cụm CDN đó, nên rất hiếm đụng chạm gì tới server gốc, lý thuyết L2 có thể cân cả thế giới theo đúng nghĩa đen</li>
</ul>
<p>Ưu điểm mạnh nhất của Cache Everything của Cloudflare là nó cache ở tầng L2, hiệu quả hơn hẳn so với các hình thức cache qua PHP hay webserver như thông thường</p>
<h2>Cấu hình trên Cloudflare</h2>
<p><em>Hướng dẫn gốc của <a href="https://gist.github.com/isaumya/af10e4855ac83156cc210b7148135fa2#rule-4--cache-eligible-requests--ignore-query-params-from-cachekey" target="_blank" rel="noopener">tác giả tại Github</a>, bạn nào muốn hiểu rõ hơn thì có thể vào đó xem cụ thể</em></p>
<h3>Truy cập vào <span style="color: #993300;">Cache Rules</span>
</h3>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-10-06-08.png"><img decoding="async" class="aligncenter wp-image-67 size-full" src="https://api.haproxy.tech/2023/06/2023-06-24-10-06-08.png" alt="2023-06-24_10-06-08" width="1045" height="853"></a></p>
<p>Create new Cache Rule -&gt; Edit Expression</p>
<p><a href="https://api.haproxy.tech/2023/06/2022-12-22-23-52-23.webp"><img decoding="async" class="aligncenter wp-image-52 size-full" src="https://api.haproxy.tech/2023/06/2022-12-22-23-52-23.webp" alt="2022-12-22-23-52-23" width="1246" height="574"></a></p>
<p style="text-align: center;">Chú ý thay thế <strong>haproxy.tech</strong> bằng domain của bạn ở các đoạn code bên dưới</p>
<p><strong><em>Rule 1 ➜ Cache Bypass — WP Admin Paths, WooCommerce API, EDD API Endpoints</em></strong></p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-26-08.png"><img decoding="async" class="aligncenter wp-image-53 size-full" src="https://api.haproxy.tech/2023/06/2023-06-24-9-26-08.png" alt="2023-06-24_9-26-08" width="1058" height="908"></a></p>
<ul>
<li>Rule name (required): Cache Bypass — WP Admin Paths, WooCommerce API, EDD API Endpoints</li>
<li>Rule Expression: thêm dòng code bên dưới vào Use expression builder</li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">(
  http.host eq "haproxy.tech" and
  (starts_with(http.request.uri.path, "/wp-admin") or starts_with(http.request.uri.path, "/wc-api/") or starts_with(http.request.uri.path, "/edd-api/"))
)</pre>
<ul>
<li>Cache status (required): Bypass cache</li>
</ul>
<p>Xong xuôi thì ấn vào Deploy</p>
<p><strong><em>Rule 2 ➜ Cache Bypass — XML, XSL &amp; PHP Files</em></strong></p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-28-32.png"><img decoding="async" class="aligncenter size-full wp-image-55" src="https://api.haproxy.tech/2023/06/2023-06-24-9-28-32.png" alt="2023-06-24_9-28-32" width="1042" height="896"></a></p>
<ul>
<li>Rule name (required): Cache Bypass — XML, XSL &amp; PHP Files</li>
<li>Rule Expression: thêm dòng code bên dưới vào Use expression builder</li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">(
  http.host eq "haproxy.tech" and
  (http.request.uri.path contains ".xsl" or http.request.uri.path contains ".xml" or http.request.uri.path contains ".php")
)</pre>
<ul>
<li>Cache status (required): Bypass cache</li>
</ul>
<p>Xong xuôi thì ấn vào Deploy</p>
<p><strong><em>Rule 3 ➜ Cache Bypass — Default Bypass Cookies</em></strong></p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-29-50.png"><img decoding="async" class="aligncenter size-full wp-image-56" src="https://api.haproxy.tech/2023/06/2023-06-24-9-29-50.png" alt="2023-06-24_9-29-50" width="1044" height="898"></a></p>
<ul>
<li>Rule name (required): Cache Bypass — Default Bypass Cookies</li>
<li>Rule Expression: thêm dòng code bên dưới vào Use expression builder</li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">(
  http.host eq "haproxy.tech" and
  (http.cookie contains "wordpress_logged_in_" or http.cookie contains "comment_" or http.cookie contains "woocommerce_" or http.cookie contains "wordpressuser_" or http.cookie contains "wordpresspass_" or http.cookie contains "wordpress_sec_" or http.cookie contains "yith_wcwl_products" or http.cookie contains "edd_items_in_cart" or http.cookie contains "it_exchange_session_" or http.cookie contains "comment_author" or http.cookie contains "dshack_level" or http.cookie contains "auth_" or http.cookie contains "noaffiliate_" or http.cookie contains "mp_session" or http.cookie contains "xf_" or http.cookie contains "mp_globalcart_") and
  not http.request.uri.path contains "."
)</pre>
<ul>
<li>Cache status (required): Bypass cache</li>
</ul>
<p>Xong xuôi thì ấn vào Deploy</p>
<p><strong><em>Rule 4 ➜ Cache Eligible Requests &amp; Ignore Query Params from cacheKey</em></strong></p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-32-35.png"><img decoding="async" class="aligncenter size-full wp-image-57" src="https://api.haproxy.tech/2023/06/2023-06-24-9-32-35.png" alt="2023-06-24_9-32-35" width="1045" height="1795"></a></p>
<ul>
<li>Rule name (required): Cache Eligible Requests &amp; Ignore Query Params from cacheKey</li>
<li>Rule Expression: thêm dòng code bên dưới vào Use expression builder</li>
</ul>
<pre class="EnlighterJSRAW" data-enlighter-language="generic">(http.host eq "haproxy.tech" and not starts_with(http.request.uri.path, "/wp-admin") and not starts_with(http.request.uri.path, "/wp-json/") and not starts_with(http.request.uri.path, "/wc-api/") and not starts_with(http.request.uri.path, "/edd-api/") and not http.request.uri.path contains ".xsl" and not http.request.uri.path contains ".xml" and not http.request.uri.path contains ".php" and not http.cookie contains "wordpress_logged_in_" and http.cookie ne "comment_" and not http.cookie contains "woocommerce_" and not http.cookie contains "wordpressuser_" and not http.cookie contains "wordpresspass_" and not http.cookie contains "wordpress_sec_" and not http.cookie contains "yith_wcwl_products" and not http.cookie contains "edd_items_in_cart" and not http.cookie contains "it_exchange_session_" and not http.cookie contains "comment_author" and not http.cookie contains "dshack_level" and not http.cookie contains "auth_" and not http.cookie contains "noaffiliate_" and not http.cookie contains "mp_session" and not http.cookie contains "xf_" and not http.cookie contains "mp_globalcart_")</pre>
<ul>
<li>Cache status (required): Eligible for cache</li>
</ul>
<p>Cache key (optional):</p>
<ol>
<li>Bật Cache deception armor</li>
<li>Bật Enable query string sort</li>
</ol>
<p>Xong xuôi thì ấn vào Deploy</p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-39-03.png"><img decoding="async" class="aligncenter size-full wp-image-58" src="https://api.haproxy.tech/2023/06/2023-06-24-9-39-03.png" alt="2023-06-24_9-39-03" width="1049" height="718"></a></p>
<p>Làm xong chúng ta sẽ có 4 Cache Rules như hình</p>
<h3>Truy cập vào <span style="color: #993300;"><a style="color: #993300;" href="https://dash.cloudflare.com/?to=/:account/caching/rules" target="_blank" rel="noopener">Page Rules</a></span>
</h3>
<h3><a href="https://api.haproxy.tech/2023/06/2023-06-24-10-07-41.png"><img decoding="async" class="aligncenter size-full wp-image-68" src="https://api.haproxy.tech/2023/06/2023-06-24-10-07-41.png" alt="2023-06-24_10-07-41" width="1066" height="763"></a></h3>
<p>Create Page Rule</p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-43-11.png"><img decoding="async" class="aligncenter size-full wp-image-59" src="https://api.haproxy.tech/2023/06/2023-06-24-9-43-11.png" alt="2023-06-24_9-43-11" width="774" height="895"></a></p>
<ul>
<li>URL (required): điền vào https://haproxy.tech/*</li>
</ul>
<p>Thay haproxy.tech bằng domain của bạn</p>
<p><strong>Then the settings are:</strong></p>
<ol>
<li>Pick a Setting (required): chọn <strong>Cache Level</strong><br>
Select Cache Level (required): chọn <strong><span style="font-size: inherit;">Cache Everything</span></strong>
</li>
<li>Pick a Setting (required): chọn<span style="font-size: inherit;"> Edge Cache TTL<br>
</span>Select Cache Level (required): chọn<span style="font-size: inherit;"> a month</span>
</li>
</ol>
<p>Sau đó ấn vào Save and Deploy Page Rule</p>
<h2>Cấu hình trên Wordpress</h2>
<p>Download và cài đặt <a href="https://wordpress.org/plugins/cloudflare/" target="_blank" rel="noopener">plugin Cloudflare</a></p>
<p>Điền email và <a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener">Global API Key</a> để login vào trang quản trị plugin Cloudflare</p>
<p><a href="https://api.haproxy.tech/2023/06/2023-06-24-9-51-51.png"><img decoding="async" class="aligncenter size-full wp-image-61" src="https://api.haproxy.tech/2023/06/2023-06-24-9-51-51.png" alt="2023-06-24_9-51-51" width="1078" height="1177"></a></p>
<p>Từ tab <strong>Settings</strong> đi tới tùy chọn <strong>Auto Purge Content On Update</strong>, bật <strong>ON</strong></p>
<p>Các setting khác để mặc định</p>
<h2>Kết bài 😀</h2>
<p>Cấu hình Cache Everything Cloudflare về cơ bản là như thế</p>
<p>Lầu đầu làm có thể hơi dài dòng ở phần điều các rule cache, nhưng bạn chỉ phải làm duy nhất 1 lần, sau đó rất hiếm phải điều chỉnh thêm gì</p>
		</div>

				<footer class="entry-meta" aria-label="Entry meta">
			<span class="cat-links"><span class="gp-icon icon-categories"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 112c0-26.51 21.49-48 48-48h110.014a48 48 0 0143.592 27.907l12.349 26.791A16 16 0 00228.486 128H464c26.51 0 48 21.49 48 48v224c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112z"></path></svg></span><span class="screen-reader-text">Categories </span><a href="/category/toolbox/" rel="category tag">Toolbox</a></span> 		<nav id="nav-below" class="post-navigation" aria-label="Posts">
			<div class="nav-previous">
<span class="gp-icon icon-arrow-left"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 138.212c0 2.265-1.133 4.813-2.832 6.512L64.276 256.001l111.317 111.277c1.7 1.7 2.832 4.247 2.832 6.513 0 2.265-1.133 4.813-2.832 6.512L161.43 394.46c-1.7 1.7-4.249 2.832-6.514 2.832-2.266 0-4.816-1.133-6.515-2.832L16.407 262.514c-1.699-1.7-2.832-4.248-2.832-6.513 0-2.265 1.133-4.813 2.832-6.512l131.994-131.947c1.7-1.699 4.249-2.831 6.515-2.831 2.265 0 4.815 1.132 6.514 2.831l14.163 14.157c1.7 1.7 2.832 3.965 2.832 6.513z" fill-rule="nonzero"></path></svg></span><span class="prev"><a href="/linux-caddy-mariadb-php-wordpress/" rel="prev">Linux Caddy Mariadb PHP Wordpress</a></span>
</div>
<div class="nav-next">
<span class="gp-icon icon-arrow-right"><svg viewbox="0 0 192 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M178.425 256.001c0 2.266-1.133 4.815-2.832 6.515L43.599 394.509c-1.7 1.7-4.248 2.833-6.514 2.833s-4.816-1.133-6.515-2.833l-14.163-14.162c-1.699-1.7-2.832-3.966-2.832-6.515 0-2.266 1.133-4.815 2.832-6.515l111.317-111.316L16.407 144.685c-1.699-1.7-2.832-4.249-2.832-6.515s1.133-4.815 2.832-6.515l14.163-14.162c1.7-1.7 4.249-2.833 6.515-2.833s4.815 1.133 6.514 2.833l131.994 131.993c1.7 1.7 2.832 4.249 2.832 6.515z" fill-rule="nonzero"></path></svg></span><span class="next"><a href="/hsts-cho-haproxy-tech/" rel="next">HSTS cho haproxy.tech</a></span>
</div>		</nav>
				</footer>
			</div>
</article>
			<div class="comments-area">
				<div id="comments">

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/cache-everything-by-cloudflare/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="https://haproxy.tech/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
<p class="comment-form-comment"><label for="comment" class="screen-reader-text">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" required></textarea></p>
<label for="author" class="screen-reader-text">Name</label><input placeholder="Name *" id="author" name="author" type="text" value="" size="30" required>
<label for="email" class="screen-reader-text">Email</label><input placeholder="Email *" id="email" name="email" type="email" value="" size="30" required>
		<script>document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("cf-turnstile-c-3732271878");setTimeout((function(){e&&(turnstile.render("#cf-turnstile-c-3732271878",{sitekey:"0x4AAAAAAAGcbQvVi-DUAVut"}))}),100)}));</script>
		<p class="comment-form-subscriptions"><label for="subscribe-reloaded"><input style="width:30px" type="checkbox" name="subscribe-reloaded" id="subscribe-reloaded" value="yes"> Notify me of followup comments via e-mail. You can also <a href="/comment-subscriptions/?srp=48&amp;srk=ae65eafbc8063644693c7ce67dcce08f&amp;sra=s&amp;srsrc=f">subscribe</a> without commenting.</label></p>
<p class="form-submit"><span id="cf-turnstile-c-3732271878" class="cf-turnstile cf-turnstile-comments" data-action="wordpress-comment" data-callback="turnstileCommentCallback" data-sitekey="0x4AAAAAAAGcbQvVi-DUAVut" data-theme="light" data-language="auto" data-appearance="interaction-only" data-retry="auto" data-retry-interval="1000"></span><br class="cf-turnstile-br cf-turnstile-br-comments"><span class="cf-turnstile-comment" style="pointer-events: none; opacity: 0.5;"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"></span><script type="text/javascript">document.addEventListener("DOMContentLoaded", function() { document.body.addEventListener("click", function(event) { if (event.target.matches(".comment-reply-link, #cancel-comment-reply-link")) { turnstile.reset(".comment-form .cf-turnstile"); } }); });</script> <input type="hidden" name="comment_post_ID" value="48" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
</form>	</div>
<!-- #respond -->
	
</div>
<!-- #comments -->
			</div>

					</main>
	</div>

	<div class="widget-area sidebar is-right-sidebar" id="right-sidebar">
	<div class="inside-right-sidebar">
		<aside id="block-3" class="widget inner-padding widget_block"><div class="wp-block-group is-layout-flow wp-block-group-is-layout-flow"><div class="wp-block-group__inner-container">
<h2 class="wp-block-heading">Recent Posts</h2>
<ul class="wp-block-latest-posts__list wp-block-latest-posts">
<li><a class="wp-block-latest-posts__post-title" href="/hsts-cho-haproxy-tech/">HSTS cho haproxy.tech</a></li>
<li><a class="wp-block-latest-posts__post-title" href="/cache-everything-by-cloudflare/">Cache Everything by Cloudflare</a></li>
<li><a class="wp-block-latest-posts__post-title" href="/linux-caddy-mariadb-php-wordpress/">Linux Caddy Mariadb PHP Wordpress</a></li>
<li><a class="wp-block-latest-posts__post-title" href="/oracle-vm-standard-a1-flex/">Oracle VM Standard A1 Flex</a></li>
</ul>
</div></div></aside>	</div>
</div>

	</div>
</div>


<div class="site-footer">
			<footer class="site-info" aria-label="Site" itemtype="https://schema.org/WPFooter" itemscope>
			<div class="inside-site-info grid-container">
								<div class="copyright-bar">
					&copy; 2023 haproxy.tech - Powered by Oracle - LCMP - Cloudflare - GeneratePress - Algolia - WordPress				</div>
			</div>
		</footer>
		</div>

<a title="Scroll back to top" aria-label="Scroll back to top" rel="nofollow" href="#" class="generate-back-to-top" data-scroll-speed="400" data-start-scroll="300">
					<span class="gp-icon icon-arrow-up"><svg viewbox="0 0 330 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M305.863 314.916c0 2.266-1.133 4.815-2.832 6.514l-14.157 14.163c-1.699 1.7-3.964 2.832-6.513 2.832-2.265 0-4.813-1.133-6.512-2.832L164.572 224.276 53.295 335.593c-1.699 1.7-4.247 2.832-6.512 2.832-2.265 0-4.814-1.133-6.513-2.832L26.113 321.43c-1.699-1.7-2.831-4.248-2.831-6.514s1.132-4.816 2.831-6.515L158.06 176.408c1.699-1.7 4.247-2.833 6.512-2.833 2.265 0 4.814 1.133 6.513 2.833L303.03 308.4c1.7 1.7 2.832 4.249 2.832 6.515z" fill-rule="nonzero"></path></svg></span>
				</a>        <span class="ssp-id" style="display:none">48</span>
		<span style="display:none">            <div class="ssp-search">
                <form class="search-form">
                    <div class="form-row">
                        <div class="search-input-container">
                            <input class="search-input fuse-search" name="search-input" placeholder="Search" autocomplete="off" data-noresult="No results found.">
                            <div class="search-auto-complete"></div>
                            <button type="submit" class="search-submit">
                                <svg viewbox="0 0 24 24">
                                    <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </form>
                <div class="result"></div>
            </div>
			</span><script id="generate-a11y">!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){var e=document.body;e.addEventListener("mousedown",function(){e.classList.add("using-mouse")}),e.addEventListener("keydown",function(){e.classList.remove("using-mouse")})}}();</script>	<div class="gp-modal gp-search-modal" id="gp-search">
		<div class="gp-modal__overlay" tabindex="-1" data-gpmodal-close>
			<div class="gp-modal__container">
					<form role="search" method="get" class="search-modal-form" action="https://haproxy.tech/">
		<label class="screen-reader-text">Search for:</label>
		<div class="search-modal-fields">
			<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
			<button aria-label="Search"><span class="gp-icon icon-search"><svg viewbox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path fill-rule="evenodd" clip-rule="evenodd" d="M208 48c-88.366 0-160 71.634-160 160s71.634 160 160 160 160-71.634 160-160S296.366 48 208 48zM0 208C0 93.125 93.125 0 208 0s208 93.125 208 208c0 48.741-16.765 93.566-44.843 129.024l133.826 134.018c9.366 9.379 9.355 24.575-.025 33.941-9.379 9.366-24.575 9.355-33.941-.025L337.238 370.987C301.747 399.167 256.839 416 208 416 93.125 416 0 322.875 0 208z"></path></svg></span></button>
		</div>
			</form>
				</div>
		</div>
	</div>
	<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#website","url":"/","name":"HAPROXY.TECH","potentialAction":{"@id":"/#searchaction"},"publisher":{"@id":"/#organization"}},{"@type":"SearchAction","@id":"/#searchaction","target":"/?s={search_term_string}","query-input":"required name=search_term_string"},{"@type":"BreadcrumbList","name":"Breadcrumbs","@id":"/cache-everything-by-cloudflare/#breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"/"},{"@type":"ListItem","position":2,"name":"Toolbox","item":"/category/toolbox/"}]},{"@type":"WebPage","@id":"/cache-everything-by-cloudflare/#webpage","url":"/cache-everything-by-cloudflare/","inLanguage":"en_US","name":"Cache Everything by Cloudflare – HAPROXY.TECH","description":"Cache Everything từ Cloudflare (Edge Cache HTML) là 1 hình thức cache đơn giản, siêu hiệu quả, giúp tăng tốc và giảm tải cực nhiều cho 1 trang WordPress thông t","datePublished":"2023-06-24T03:11:16+00:00","dateModified":"2023-06-24T03:11:16+00:00","isPartOf":{"@id":"/#website"},"breadcrumb":{"@id":"/cache-everything-by-cloudflare/#breadcrumbs"},"primaryImageOfPage":{"@id":"/cache-everything-by-cloudflare/#thumbnail"},"image":{"@id":"/cache-everything-by-cloudflare/#thumbnail"}},{"@type":"Organization","@id":"/#organization","url":"/","name":"HAPROXY.TECH"},{"@type":"ImageObject","@id":"/cache-everything-by-cloudflare/#thumbnail","url":"https://api.haproxy.tech/2023/06/oig-1.jpg","width":1024,"height":1024},{"@type":"Article","@id":"/cache-everything-by-cloudflare/#article","url":"/cache-everything-by-cloudflare/","headline":"Cache Everything by Cloudflare","datePublished":"2023-06-24T03:11:16+00:00","dateModified":"2023-06-24T03:11:16+00:00","wordCount":1186,"articleSection":["Toolbox"],"isPartOf":{"@id":"/cache-everything-by-cloudflare/#webpage"},"mainEntityOfPage":{"@id":"/cache-everything-by-cloudflare/#webpage"},"image":{"@id":"/cache-everything-by-cloudflare/#thumbnail"},"publisher":{"@id":"/#organization"},"author":{"@id":"/author/haproxy-tech/#author"}},{"@type":"Person","@id":"/author/haproxy-tech/#author","url":"/author/haproxy-tech/","name":"haproxy.tech","image":{"@id":"/author/haproxy-tech/#author_image"}},{"@type":"ImageObject","@id":"/author/haproxy-tech/#author_image","url":"https://secure.gravatar.com/avatar/e273aa73a26755f14413e8d9ea2ccbcb?s=96&d=mm&r=g","width":96,"height":96,"caption":"haproxy.tech"}]}</script><script type="text/javascript">/* <![CDATA[ */!function(e,n){var r={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"wpcustom","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""},"resources":["\/wp-content\/plugins\/enlighter\/cache\/enlighterjs.min.css?4gaViAf3fdLnZUR","\/wp-content\/plugins\/enlighter\/resources\/enlighterjs\/enlighterjs.min.js"]},o=document.getElementsByTagName("head")[0],t=n&&(n.error||n.log)||function(){};e.EnlighterJSINIT=function(){!function(e,n){var r=0,l=null;function c(o){l=o,++r==e.length&&(!0,n(l))}e.forEach(function(e){switch(e.match(/\.([a-z]+)(?:[#?].*)?$/)[1]){case"js":var n=document.createElement("script");n.onload=function(){c(null)},n.onerror=c,n.src=e,n.async=!0,o.appendChild(n);break;case"css":var r=document.createElement("link");r.onload=function(){c(null)},r.onerror=c,r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",o.appendChild(r);break;default:t("Error: invalid file extension",e)}})}(r.resources,function(e){e?t("Error: failed to dynamically load EnlighterJS resources!",e):"undefined"!=typeof EnlighterJS?EnlighterJS.init(r.selectors.block,r.selectors.inline,r.options):t("Error: EnlighterJS resources not loaded yet!")})},(document.querySelector(r.selectors.block)||document.querySelector(r.selectors.inline))&&e.EnlighterJSINIT()}(window,console); /* ]]> */</script><script src="/wp-content/plugins/gp-premium/menu-plus/functions/js/sticky.min.js?ver=2.3.2" id="generate-sticky-js"></script>
<script id="generate-smooth-scroll-js-extra">var smooth = {"elements":[".smooth-scroll","li.smooth-scroll a"],"duration":"800"};</script>
<script src="/wp-content/plugins/gp-premium/general/js/smooth-scroll.min.js?ver=2.3.2" id="generate-smooth-scroll-js"></script>
<script src="/wp-content/plugins/simply-static-pro/assets/ssp-comment-webhook.js?ver=1.4.5.7" id="ssp-comment-webhook-js"></script>
<script src="/wp-content/plugins/simply-static-pro/assets/fuse.js?ver=1.4.5.7" id="ssp-fuse-js"></script>
<script id="ssp-search-js-extra">
var ssp_search = {"html":"            <div class=\"ssp-search\">\n                <form class=\"search-form\">\n                    <div class=\"form-row\">\n                        <div class=\"search-input-container\">\n                            <input class=\"search-input fuse-search\" name=\"search-input\"\n                                   placeholder=\"Search\"\n                                   autocomplete=\"off\"\n                                   data-noresult=\"No results found.\">\n                            <div class=\"search-auto-complete\"><\/div>\n                            <button type='submit' class='search-submit'>\n                                <svg viewBox='0 0 24 24'>\n                                    <path d='M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\/>\n                                <\/svg>\n                            <\/button>\n                        <\/div>\n                    <\/div>\n                <\/form>\n                <div class=\"result\"><\/div>\n            <\/div>\n\t\t\t","use_selector":"1"};
</script>
<script src="/wp-content/plugins/simply-static-pro/assets/ssp-search.js?ver=1.4.5.7" id="ssp-search-js"></script>
<!--[if lte IE 11]>
<script src='https://haproxy.tech/wp-content/themes/generatepress/assets/js/classList.min.js?ver=3.3.1' id='generate-classlist-js'></script>
<![endif]-->
<script id="generate-menu-js-extra">var generatepressMenu = {"toggleOpenedSubMenus":"1","openSubMenuLabel":"Open Sub-Menu","closeSubMenuLabel":"Close Sub-Menu"};</script>
<script src="/wp-content/themes/generatepress/assets/js/menu.min.js?ver=3.3.1" id="generate-menu-js"></script>
<script src="/wp-content/themes/generatepress/assets/js/dropdown-click.min.js?ver=3.3.1" id="generate-dropdown-click-js"></script>
<script src="/wp-content/themes/generatepress/assets/dist/modal.js?ver=3.3.1" id="generate-modal-js"></script>
<script id="generate-back-to-top-js-extra">var generatepressBackToTop = {"smooth":"1"};</script>
<script src="/wp-content/themes/generatepress/assets/js/back-to-top.min.js?ver=3.3.1" id="generate-back-to-top-js"></script>
<script src="/wp-includes/js/comment-reply.min.js?ver=6.3.2" id="comment-reply-js"></script>
<script src="/wp-content/plugins/wp-featherlight/js/wpFeatherlight.pkgd.min.js?ver=1.3.4" id="wp-featherlight-js"></script>
<script async data-no-optimize="1" src="/wp-content/plugins/perfmatters/vendor/instant-page/instantpage.js?ver=2.1.7" id="perfmatters-instant-page-js"></script>
<script data-cfasync="false" src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit" id="cfturnstile-js" defer data-wp-strategy="defer"></script>
<script src="/wp-content/plugins/simple-cloudflare-turnstile/js/disable-submit.js?ver=4.0" id="cfturnstile-js-js" defer data-wp-strategy="defer"></script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v84a3a4012de94ce1a686ba8c167c359c1696973893317" integrity="sha512-euoFGowhlaLqXsPWQ48qSkBSCFs3DPRyiwVu3FjR96cMPx+Fr+gpWRhIafcHwqwCqWS42RZhIudOvEI+Ckf6MA==" data-cf-beacon='{"rayId":"819c090c0d9967fb","version":"2023.10.0","r":1,"token":"7132c820a0b14193bd75273ec253595c","b":1}' crossorigin="anonymous"></script>
</body>
</html>